## create/order-to-delivery: Создание онлайн-заказа в Poster 

> Пример запроса на создание онлайн-заказа
```javascript
post(create/order-from-delivery)
```
>Параметры запроса
```json
{
    "id":24,
    "client_id": 12586,
    "phone": "+79230000000",
    "first_name": "Иван",
    "last_name": "Иванов",
    "email": "Эл. почта",
    "sex": 0,
    "birthday": "1999-02-25",
    "phone": "+79237850000",
    "client_address_id": 2,
    "client_address":
    {
    "address1": 	"Улица и номер дома",
	"address2"	"Дополнительно: подъезд, этаж, квартира и т. д.",
	"comment": 	"Комментарий к адресу",
	"lat" :	"Координата широты адреса клиента"
	"lng" :	"Координата долготы адреса клиента"
    },
    "service_mode": 3,
    "delivery_price": 300,
    "comment": "Комментарий к онлайн-заказу",
    "delivery_time": "2022-02-03 10:20:30"
    "payment":	{
    		"type": 0,
            "sum" : 200,
            "currency": "RUB"
    	},
    "promotion": [
    	{
        	"id": 1,
            "involved_products": [
            	{
                	"id": 1,
                    "count": 2
                },
                {
                	"id": 2,
                    "count": 1
                }
            ],
            "result_products": [
             {
             	"id": 1,
                "count": 3
             }
            ]
        }
    ],
    "products": [
        {
            "product_id":9,
            "count": 1
        },
        {
        	"product_id":10,
            "count": 2
        }
    ]
}
```

### Аргументы

Свойство | Описание
-------- | --------
id | id салона (точки)
client_id| id клиента,
phone| +79230000000,
first_name| 	Имя клиента, по умолчанию не передаётся
last_name |	Фамилия клиента, по умолчанию не передаётся
phone |	Телефон клиента, обязательный параметр если не указан client_id
email| 	Эл. почта, по умолчанию не передаётся
sex |	Пол клиента: 0 — не указан, 1 — мужской, 2 — женский. По умолчанию не передаётся.
birthday |	Дата рождения клиента, формат Y-m-d. По умолчанию не передаётся.
client_address_id |	ID адреса клиента, по умолчанию не передаётся. Если передать этот параметр то адрес клиента возметься исходя из найденного id, проигнорировав параметр client_address
client_address| 	Адрес клиента, по умолчанию не передаётся.
service_mode |	Создает заказ указанного типа: 1 — в заведении, 2 — навынос, 3 — доставка
delivery_price |	Стоимость доставки в копейках, должно быть целым числом. Указывается только для заказов с типом service_mode = 3.
comment |	Комментарий к онлайн-заказу, по умолчанию не передаётся
delivery_time |	Время доставки/самовывоза заказа в формате YYYY-MM-DD hh:mm:ss, по умолчанию не передается
products |	Список товаров
payment |	Информация об оплате, по умолчанию не передаётся
promotion |	Список акций которые нужно применить к заказу.

Массив `products` содержит объектs с такими свойствами:

Свойство | Описание
-------- | --------
product_id | id блюда
count | количество

Внутри параметра `payment` должен быть объект, внутри которого должны быть следующие параметры:

Свойство | Описание
-------- | --------
id | id блюда
type |	Признак, что была предварительная оплата: 0 — не была, 1 — была. По умолчанию принимает 0.
sum |	Сумма оплаты в копейках
currency |	ISO код валюты оплаты, должен совпадать с валютой аккаунта, например: UAH — гривна, RUB — рубль, USD — доллар

*Если предварительной оплаты не было в онлайн-заказе - массив payment в запросе не передавать.*

Внутри параметра `promotion` находится массив объектов, внутри каждого объекта есть следующие параметры:

Свойство | Описание
-------- | --------
id |	Id акции которую нужно применить
involved_products |	Массив товаров которые участвуют в акции.
result_products |	Массив товаров которые являются результатом акции. Нужно передавать только в бонусных акциях.

В массиве `involved_products` лежат объекты со следующими свойствами:

Свойство | Описание
-------- | --------
id | Обязательный параметр, id товара который участвует в акции
count |	Обязательный параметр, кол-во товара которое участвует в акции

В массиве `result_products` лежат объекты со следующими свойствами:

Свойство | Описание
-------- | --------
id |	Обязательный параметр, id товара который нужно добавить в заказ как результат акции
count |	Обязательный параметр, кол-во товара которое нужно добавить а заказ

Внутри параметра `client_address` находится объект в котором могут быть следующие параметры:

Свойство | Описание
-------- | --------
address1 |	Улица и номер дома
address2 |	Дополнительно: подъезд, этаж, квартира и т. д.
comment |	Комментарий к адресу
lat |	Координата широты адреса клиента
lng |	Координата долготы адреса клиента

